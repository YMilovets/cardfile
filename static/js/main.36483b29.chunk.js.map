{"version":3,"sources":["card-employeers/card-employeers.jsx","list-employeers/card/list-employeers__card.jsx","list-employeers/list-employeers.jsx","manage-btn/manage-btn.jsx","message/message.jsx","resources.js","App.js","reportWebVitals.js","reducers/reducer.js","index.js"],"names":["CardEmployeers","props","data","name","surname","name_of_father","vacancy","birth","employment","formatDate","date","Date","toLocaleString","year","month","day","formatCalcDate","start","now","stamp","getFullYear","getMonth","getDate","getTime","className","children","ListCard","dispatch","useDispatch","onClick","id","type","payload","bind","ListEmployeers","ManageBtn","selectId","disabled","length","Message","UseResource","promise","then","catch","err","message","wrapFetch","fetch","res","json","App","useSelector","state","status","result","useEffect","map","elem","i","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","defaultState","store","createStore","action","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.36483b29.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport default function CardEmployeers(props) {\r\n    let {name, \r\n        surname, \r\n        name_of_father, \r\n        vacancy, \r\n        birth, \r\n        employment} = props.data;\r\n    const formatDate = (date) => {\r\n        return new Date(+date).toLocaleString(\"ru\", {\r\n            year: 'numeric',\r\n            month: 'long',\r\n            day: 'numeric'\r\n        })\r\n    }\r\n    const formatCalcDate = (start) => {\r\n        const now = Date.now();\r\n        const stamp = new Date(new Date().getFullYear(), new Date(+start).getMonth(), new Date(+start).getDate()).getTime();\r\n\r\n        return new Date().getFullYear() - new Date(+start).getFullYear() + ((now - stamp) > 0 ? 0 : 1);\r\n    }\r\n    return (\r\n        <div className=\"mt-3 flex-grow-1\">\r\n            {props.children}\r\n            <h1>\r\n                <span>{surname} </span>\r\n                <span>{name} </span>\r\n                <span>{name_of_father}</span>\r\n            </h1>\r\n            <p><b>Должность:</b> {vacancy}</p>\r\n            <p><b>Дата рождения:</b> {formatDate(birth)}</p>\r\n            <p><b>Дата трудоустройства:</b> {formatDate(employment)}</p>\r\n            <p><b>Возраст (лет):</b> {formatCalcDate(birth)}</p>\r\n            <p><b>Стаж (лет):</b> {formatCalcDate(employment)}</p>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport './list-employeers__card.css'\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nexport default function ListCard(props) {\r\n    const dispatch = useDispatch();\r\n    let {name, \r\n        surname, \r\n        name_of_father, vacancy} = props.data;\r\n    const selectHandler = (id) => {\r\n        dispatch({type: \"SET_SELECTED_ID\", payload: id})\r\n    }\r\n    return (\r\n        <li onClick={selectHandler.bind(null, props.id)} \r\n            className=\"list-employeers__card list-group-item\">\r\n            {surname} {name} {name_of_father}\r\n            <div className=\"text-muted\">{vacancy}</div>\r\n        </li>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function ListEmployeers(props) {\r\n    return (\r\n        <ul className=\"list-employeers list-group m-3 flex-grow-0 flex-shrink-0\">\r\n            {props.children}\r\n        </ul>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nexport default function ManageBtn(props) {\r\n    const dispatch = useDispatch();\r\n    const {selectId, data} = props;\r\n    const prevHandler = () => {\r\n        dispatch({type: \"SET_PREV_SELECTED_ID\"})\r\n    }\r\n    const nextHandler = () => {\r\n        dispatch({type: \"SET_NEXT_SELECTED_ID\"})\r\n    }\r\n    return (\r\n        <div>\r\n            <button disabled={selectId <= 0}\r\n                    onClick={prevHandler} \r\n                    type=\"submit\" \r\n                    className=\"prev_btn btn btn-primary me-2\">&lt;</button>\r\n            <button disabled={selectId >= data.length - 1}\r\n                    onClick={nextHandler} \r\n                    type=\"submit\" \r\n                    className=\"next_btn btn btn-primary\">&gt;</button>     \r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Message(props) {\r\n    return (\r\n        <p className=\"message m-3\">\r\n            {props.children}\r\n        </p>\r\n    )\r\n}\r\n","const fetchQuery = () => {\r\n    const src = \"https://ymilovets.github.io/cardfile/employeers.json\";\r\n    return fetch(src).then(res => res.json())\r\n}\r\nconst wrapFetch = (promise, dispatch) => {\r\n    promise.then(\r\n        data => {\r\n            dispatch({type: \"SET_DATA_SUCCESS\", payload: data})\r\n        }\r\n    ).catch( err => {\r\n        dispatch({type: \"SET_DATA_ERROR\", payload: err.message})\r\n    })\r\n}\r\nexport default function UseResource(dispatch) {\r\n    return wrapFetch(fetchQuery(), dispatch);\r\n}","import './App.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.esm.js';\r\nimport React, {useEffect} from \"react\"\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\n\r\nimport CardEmployeers from './card-employeers/card-employeers';\r\nimport ListCard from './list-employeers/card/list-employeers__card';\r\nimport ListEmployeers from './list-employeers/list-employeers';\r\nimport ManageBtn from './manage-btn/manage-btn';\r\nimport Message from './message/message';\r\nimport UseResource from \"./resources\";\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const {status, result, selectId} = useSelector(state => state);\r\n\r\n  useEffect(() => {\r\n    UseResource(dispatch)\r\n  }, []);\r\n\r\n  switch (status) {\r\n    case \"success\":\r\n      return (\r\n        <div className=\"App d-flex\">\r\n          <ListEmployeers>\r\n            {result.map(\r\n              (elem, i) => <ListCard key={i} id={i} data={elem} />\r\n            )}\r\n          </ListEmployeers>\r\n          <CardEmployeers data={result[selectId]}>\r\n              <ManageBtn data={result} selectId={selectId} />\r\n          </CardEmployeers>\r\n        </div>);\r\n    case \"error\":\r\n      return <Message>Ошибка: {result}</Message>\r\n    default:\r\n      return <Message>Загрузка...</Message>;\r\n  }\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","let defaultState = {\r\n    result: [],\r\n    selectId: 0,\r\n    status: \"pending\"\r\n}\r\nexport default function reducer(state = defaultState, action) {\r\n    switch (action.type) {\r\n        case \"SET_DATA_SUCCESS\":\r\n            return {...state, result: action.payload, status: \"success\"}\r\n        case \"SET_DATA_ERROR\":\r\n            return {...state, result: action.payload, status: \"error\"}\r\n        case \"SET_NEXT_SELECTED_ID\":\r\n            return {\r\n                ...state, \r\n                selectId: (state.selectId < state.result.length - 1) ? state.selectId + 1 : state.result.length - 1\r\n            }\r\n        case \"SET_PREV_SELECTED_ID\":\r\n            return {\r\n                ...state, \r\n                selectId: (state.selectId > 0) ? state.selectId - 1 : 0\r\n            }\r\n        case \"SET_SELECTED_ID\":\r\n            return {\r\n                ...state, \r\n                selectId: action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {createStore} from \"redux\"\r\nimport reducer from './reducers/reducer';\r\nimport {Provider} from \"react-redux\"\r\n\r\nlet store = createStore(reducer)\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}